# Maintainer: Constantin Schomburg <me@xconstruct.net>
# Contributor: Kaspar Bumke <kaspar.bumke@gmail.com>
pkgname=virtualgl-bin
_srcname=VirtualGL
pkgver=2.3
_srcbranch='2.3'
pkgrel=1
pkgdesc="Redirects 3D commands from an OpenGL application onto a server-side 3D graphics card."
arch=('i686' 'x86_64')
url="http://virtualgl.org"
license=('GPL')
makedepends=(rpmextract)
provides=("virtualgl=${pkgver}")
conflicts=('virtualgl')

case "$CARCH" in
	i686)
		_bldarch="i386"
		md5sums=('fb0704a2dd0ad661f91838a1a6611e51');;
	x86_64)
		optdepends=('virtualgl32-bin: serverside components to run 32-bit applications')
		_bldarch="x86_64"
		md5sums=('fefbf98b172a01f987f45d749f0ff511');;
esac

source=("http://downloads.sourceforge.net/project/virtualgl/VirtualGL/$_srcbranch/$_srcname-$pkgver.$_bldarch.rpm")
noextract=($_srcname-$pkgver.$_bldarch.rpm)

build() {
  cd "$srcdir"
  rpmextract.sh $_srcname-$pkgver.$_bldarch.rpm
  mv usr opt $pkgdir
}

